import unittest
from one_hot_encoder import fit_transform

HELLO_WORLD_ENCODE = [
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0]
]


class Test_One_Hot_Encoder(unittest.TestCase):

    def setUp(self):
        self.alphabet_list = list('abcdefghijklmnopqrstuvwxyz ')

    def test_fit_transform_cities(self):
        cities = ['Moscow', 'New York', 'Moscow', 'London']
        actual = fit_transform(cities)
        expected = [
            ('Moscow', [0, 0, 1]),
            ('New York', [0, 1, 0]),
            ('Moscow', [0, 0, 1]),
            ('London', [1, 0, 0]),
        ]
        self.assertEqual(actual, expected)

    def test_len_from_fit_transform(self):
        alphabet_list_encode = fit_transform(self.alphabet_list)
        self.assertEqual(len(alphabet_list_encode), len(self.alphabet_list))

    def test_hello_world_in_encode(self):
        h_w_list = list('hello world')
        alphabet_list_encode = fit_transform(self.alphabet_list)
        h_w_encode_only_codes = list()
        for char in h_w_list:
            i = self.alphabet_list.index(char)
            h_w_encode_only_codes.append(alphabet_list_encode[i][1])
        self.assertListEqual(h_w_encode_only_codes, HELLO_WORLD_ENCODE)

    def test_exception(self):
        with self.assertRaises(TypeError):
            fit_transform()

    def test_input_empty_expected_empty_output(self):
        self.assertEqual(fit_transform([]), [])


if __name__ == '__main__':
    unittest.main()
